---
description: 
globs: 
alwaysApply: false
---
## 安裝規則
- 先確認 nvm 的版本，如果 nvm 的版本是否高於 22.11.0，則先更新 nvm 的版本
- 透過 npx create-next-app@lastest 安裝專案。
- 如果專案無法安裝在根目錄，請在初始化完成後，將專案目錄中的資料移動到根目錄。
- 使用 yarn 安裝套件


## 開發伺服器管理
- **啟動開發伺服器**：使用 `yarn dev`，腳本會檢查是否已有伺服器運行在預設端口 3000，若有則使用現有伺服器
- **強制啟動新伺服器**：使用 `yarn dev:force` 忽略檢查，直接啟動新的伺服器實例
- **健康檢查 API**：使用 `/api/health` 端點確認伺服器狀態
- **測試配置**：Playwright 測試已配置為使用動態 URL 和端口，確保測試可靠性

## 開發規則
1. 每次執行 agent 任務之前，請先確認 [SPEC.md](mdc:SPEC.md) 是否存在，如果存在，請先查看該文件，並且確認之前完成了哪些任務，接下來要執行哪些任務，在完成每一個階段或步驟後，請明確說明：
 - 剛剛完成了什麼
 - 下一步要做什麼
 - 目前還剩下哪些階段或步驟
 這樣的流程可以確保我們每一步都清晰且有條理地推進。
2. 請根據任務列表依序開發。
3. 分析現有的程式碼以全面掌握所需修改的範圍，才進行程式碼撰寫。
4. 如果發現錯誤，分析並修復程式碼，成功修復任何錯誤時，幫我記錄到 [ERRORS.md](mdc:ERRORS.md)。
5. 在一個請求中完成盡可能多的修改-檢查-修復循環。
6. 如果連續三次嘗試修復同一個錯誤都失敗，提供詳細分析。
7. 成功標準：執行 `yarn build` 無錯誤。
8. 在完成子任務時，請更新 SPEC.md 中的任務列表進度。
9. 遇到checkpoint的時候會停下來

